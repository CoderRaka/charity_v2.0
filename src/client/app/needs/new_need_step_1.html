<section>
  <div class="container">
      <h2 class="text-left text-heading">Нова потреба</h2>
      <form class="form-horizontal" name="NewNeed" ng-submit="vm.submitNeed(vm.need.title, vm.need.category)">
          <div class="form-group">
              <label class="control-label col-sm-1">Назва</label>
              <div class="col-sm-6">
                  <input type="text" class="form-control" name="needTitle" ng-model="vm.need.title" placeholder="Назва потреби" required>
              </div>
          </div>
          <div class="form-group">
              <label class="control-label col-sm-1">Категорія</label>
              <div class="col-sm-6">
                  <input type="text" class="form-control" id="category_name" ng-model="vm.need.category" placeholder="Оберіть категорію" ng-click="vm.open()" required>
              </div>
          </div>
          <!-- Modal categories -->
          <script type="text/ng-template" id="needs-modal.html">
              <div class="modal-header">
                  <button type="button" class="close" ng-click="vm.cancel()">&times;</button>
                  <h4 class="modal-title">Оберіть категорію:</h4>
              </div>
              <div class="modal-body">
                  <div class="category">
                      <!-- Main categories -->
                      <ul class="list-unstyled" role="tablist" id="categories">
                          <li ng-repeat="category in vm.categories" ng-if="category.parent_id=='0'">
                              <a href="" ng-click="vm.setCurrentCategory(category.id)" ng-init="vm.setTemp = false">{{category.name}}</a>
                          </li>
                      </ul>
                  </div>
                  <div class="ng-hide subcategory" id="sub" ng-show="vm.currentCategory">
                      <ul class="list-unstyled" role="tablist" id="subcategories">
                          <li ng-repeat="sub in vm.categories" ng-if="sub.parent_id==vm.currentCategory">
                              <a href="" ng-click="vm.setCurrentSubCategory(sub.id, sub.name)">{{sub.name}}</a>
                          </li>
                      </ul>
                  </div>
                  <div class="ng-hide subcategory_child" id="subchild" ng-show="vm.setTemp">
                      <ul class="list-unstyled" role="tablist">
                          <li ng-repeat="subchild in vm.categories" ng-if="subchild.parent_id==vm.currentSubCategory">
                              <a href="#" ng-click="vm.setCurrentSubSubCategory(subchild.name)">{{subchild.name}}</a>
                          </li>
                      </ul>
                  </div>
              </div>
              <div class="modal-footer">
              </div>
          </script>
          <div class="form-group">
              <button type="button" class="btn btn-warning">Назад</button>
              <button type="submit" class="btn btn-primary">Далі</button>
          </div>
      </form>
  </div>
</section>
