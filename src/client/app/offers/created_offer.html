<section>
    <div class="container">
        <div class="row heading">
            <h2>
                <span class="col-xs-4 col-md-2">Пропозиція</span>
            </h2>
            <h2>
                <h2 class="col-xs-12 col-sm-12 col-md-8 col-lg-8 col-md-offset-2 col-lg-offset-2">{{vm.currentOffer.name}}</h2>
            </h2>
        </div>
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 hidden-xs col-sm-offset-2 col-md-offset-0 col-lg-offset-0 product-images">
                <div class="main_image marginBottom col-xs-2 col-sm-2 col-md-12 col-lg-8">
                    <img src="../images/test_product_1_large.jpg" class="img-thumbnail" alt="Main photo">
                </div>
                <div class="col-xs-2 col-md-3">
                    <img src="../images/test_product_1_small.jpg" class="img-thumbnail" alt="Main photo">
                </div>
                <div class="col-xs-2 col-md-3">
                    <img src="../images/test_product_2_small.jpg" class="img-thumbnail" alt="Main photo">
                </div>
                <div class="col-xs-2 col-md-3">
                    <img src="../images/test_product_3_small.jpg" class="img-thumbnail" alt="Main photo">
                </div>
            </div>
            <div class="col-xs-12 col-md-8">
                <div class="row">
                    <div class="col-xs-12 col-sm-2 col-md-2 col-lg-2">
                        <p>Автор: </p>
                    </div>
                    <div class="col-xs-12 col-sm-10 col-md-10 col-lg-10">
                        <p>
                            <a href="/">{{vm.userCreated.name}}</a>
                            <!--<a href="#">(Інші оголошення користувача)</a>-->
                        </p>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-12 col-sm-2 col-md-2 col-lg-2">
                        <p>Опубліковано: </p>
                    </div>
                    <div class="col-xs-12 col-sm-10 col-md-10 col-lg-10">
                        <strong>{{vm.currentOffer.dayCreated}}.{{vm.currentOffer.monthCreated}}.{{vm.currentOffer.yearCreated}}</strong>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-12 col-sm-2 col-md-2 col-lg-2">
                        <p>Категорія: </p>
                    </div>
                    <div class="col-xs-12 col-sm-10 col-md-8 col-lg-6">
                        <ol class="breadcrumb">
                            <li ng-show="vm.mainCategory">{{vm.mainCategory}}</li>
                            <li>{{vm.parentCategory}}</li>
                            <li>{{vm.category}}</li>
                        </ol>
                    </div>
                </div>
                <hr>
                <h3>Опис пропозиції</h3>
                <div class="row">
                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                        <p>{{vm.currentOffer.description}}</p>
                    </div>
                </div>
                <!-- <div class="row">
                    <div class="col-xs-12 col-sm-2 col-md-2 col-lg-2">
                        <p>Розмір: </p>
                    </div>
                    <div class="col-xs-12 col-sm-10 col-md-10 col-lg-10">
                        <strong>М</strong>
                    </div>
                </div>-->
                <div class="row" ng-show="vm.currentOffer.formattedActualTo">
                    <div class="col-xs-12 col-sm-2 col-md-2 col-lg-2">
                        <p>Актуальність: </p>
                    </div>
                    <div class="col-xs-12 col-sm-10 col-md-10 col-lg-10">
                        до <strong>{{vm.currentOffer.formattedActualTo}}</strong>
                    </div>
                </div>
                <div class="row" ng-show="vm.currentOffer.address">
                    <div class="col-xs-12 col-sm-2 col-md-2 col-lg-2">
                        <p>Адреса: </p>
                    </div>
                    <div class="col-xs-12 col-sm-10 col-md-10 col-lg-10">
                        <strong>
                            <span class='street'>{{vm.currentOffer.address}}</span>
                        </strong>
                    </div>
                </div>
                <div class="row" ng-show="vm.currentOffer.convenientTime">
                    <div class="col-xs-12 col-sm-2 col-md-2 col-lg-2">
                        <p>Зручний час: </p>
                    </div>
                    <div class="col-xs-12 col-sm-10 col-md-10 col-lg-10">
                        <strong>{{vm.currentOffer.convenientTime}}</strong>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-12 col-sm-2 col-md-2 col-lg-2">
                        <p>Зможу доставити:</p>
                    </div>
                    <div class="col-xs-12 col-sm-10 col-md-10 col-lg-10">
                        <strong>{{vm.currentOffer.pickup}}</strong>
                    </div>
                </div>
                <hr>
                <div ng-show="vm.currentOffer.open">
                    <div class="row pull-right marginBottom">
                        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" ng-show="vm.authorizedUser.ifOwner">
                            <a ui-sref="needs.home" class="btn btn-primary">Редагувати</a>
                            <a href="/" class="btn btn-default">Закрити</a>
                        </div>
                        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" ng-show="vm.allowResponse()">
                            <button class="btn btn-primary" ng-click="isCollapsed = !isCollapsed">Відгукнутись</button>
                        </div>
                        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" ng-show="vm.userRespondedToOffer">
                            <button class="btn btn-default" ng-click="vm.cancelResponce()">Відмінити відгук</button>
                        </div>
                    </div>
                    <div collapse="!isCollapsed" class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                        <button type="button" class="close" aria-label="Close" ng-click="isCollapsed = !isCollapsed"><span aria-hidden="true" >&times;</span></button>
                        <form ng-submit="vm.respondToOffer()">
                            <div class="form-group">
                                <label for="details">Деталі</label>
                                <textarea class="form-control" id="details" placeholder="Введіть будь ласка деталі" ng-model="vm.respondData.description"></textarea>
                            </div>
                            <button type="submit" class="btn btn-primary text-left" ng-click="isCollapsed = !isCollapsed">Підтвердити</button>
                        </form>
                    </div>
                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" ng-show="vm.showResponsesToOwner">
                        <ul>
                            <li ng-repeat="response in vm.currentResponses">
                                <div><b>Опис:</b> {{response.description}}</div>
                                <div ng-show="vm.waitingForHelp"><b>Ім'я користувача:</b> {{vm.userInfo.name}}</div>
                                <div ng-show="vm.waitingForHelp"><b>Телефон:</b> {{vm.userInfo.address}}</div>
                                <button class="btn btn-primary text-left" ng-click="vm.accept(response.id)" ng-show="!vm.waitingForHelp">Отримати</button>
                                <button class="btn btn-primary text-left" ng-click="vm.deleteCompletedResponse(response.id)" ng-show="vm.waitingForHelp">Підтвердити отримання допомоги</button>
                                <button class="btn btn-primary text-left" ng-click="vm.cancelGettingResponse(response.id)" ng-show="vm.waitingForHelp">Відмінити підтримання допомоги від цього користувача</button>
                            </li>
                        </ul>
                    </div>
                </div>
                <div ng-show="!vm.currentOffer.open">Ця пропозиція закрита!!</div>
            </div>
        </div>
    </div>
</section>
